class TestController < ApplicationController
  before_filter :verify_authorization

  def test_file_path
    render :text => "<img src='http://localhost:3000/system/posts/photos/000/000/307/original/me_100.jpg' />"
  end

  def save_file
    data = Base64.decode64("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")
    File.open("public/assets/images/steve.jpg", 'wb') { |file| (file << data) }
  end

  private

  def verify_authorization
    if signed_in? and current_user.is_admin?
      return true
    else
      #we dont want people to know this exists, so redirect to 404
      redirect_to "/404.html"
    end
  end

end
